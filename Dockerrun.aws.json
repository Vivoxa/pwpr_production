{
  "AWSEBDockerrunVersion": 2,
  "volumes": [],
  "containerDefinitions": [
    {
      "name": "pwpr-app",
      "image": "084857879641.dkr.ecr.eu-west-1.amazonaws.com/pwpr:v0.1.13",
      "environment": [
        {
          "name": "PROD_PWPR_DATABASE_PASSWORD",
          "value": "INSERT PASSWORD"
        },
        {
          "name": "SECRET_KEY_BASE",
          "value": "INSERT SECRET KEY BASE"
        },
        {
          "name": "RAILS_SERVE_STATIC_FILES",
          "value": "true"
        },
        {
          "name": "DOCKER_IP",
          "value": "54.194.218.15"
        },
        {
          "name": "SPREADSHEET_QUEUE_NAME",
          "value": "spreadsheet_processing_queue"
        },
        {
          "name": "SPREADSHEET_QUEUE_HOST",
          "value": "queue_rabbitmq:5672"
        },
        {
          "name": "SPREADSHEET_WORKER_LOG_PATH",
          "value": "log/spreadsheet_worker.log"
        }
      ],
      "essential": true,
      "memory": 2000,
      "portMappings": [
        {
          "hostPort": 80,
          "containerPort": 3000
        }
      ],
      "links": [
        "queue_rabbitmq"
      ]
    },
    {
      "name": "queue_rabbitmq",
      "image": "library/rabbitmq:3-management",
      "essential": true,
      "memory": 256,
      "portMappings": [
        {
          "hostPort": 15672,
          "containerPort": 15672
        },
        {
          "hostPort": 5672,
          "containerPort": 5672
        }
      ]
    }
  ]
}
